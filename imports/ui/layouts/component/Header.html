<template name="Header">
  {{#if currentUser}}
    {{> SearchNavBar}}
  {{/if}}
  <nav class="{{#if $.Session.get 'shouldHeaderBeShownAtFullWindow'}}app-layout{{/if}}">
    <div class="nav-wrapper blue darken-3">
      {{#if currentUser}}
        <i class="nav-icon fa fa-search right"></i>
      {{/if}}
      <a href="{{pathFor route='memo.home'}}" class="brand-logo">{{title.name}}</a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li>{{> atNavButton }}</li>
      	{{#if currentUser}}
      	<li class="{{isActiveRoute 'memo.home'}}">
          <a class="{{isActiveRoute 'memo.home'}}" href="{{pathFor route='memo.home'}}">Memos</a>
        </li>
        <li class="{{isActiveRoute 'memo.archive'}}">
          <a href="{{pathFor route='memo.archive'}}" class="waves-effect {{isActiveRoute 'memo.archive'}}">
            Archive
        {{#if notificationCount}}
          <span class="chip blue lighten-4">{{notificationCount}}</span>
        {{/if}}
          </a>
        </li>
      	{{/if}}
        <li class="{{isActiveRoute 'about'}}">
          <a class="{{isActiveRoute 'about'}}" href="{{pathFor route='about'}}">About</a>
        </li>
      </ul>
       <ul id="slide-out" class="side-nav  {{#if $.Session.get 'isShrinkedSideNavShown'}}sidenav-active {{else}} sidenav-inactive {{/if}}">
          {{#if currentUser}}
            {{> AddMemoButton}}
            <li class="{{isActiveRoute 'memo.home'}}">
              <a class="{{isActiveRoute 'memo.home'}}" href="{{pathFor route='memo.home'}}">
                <i class="fa fa-sticky-note"></i>
                Memos
              </a>
            </li>
            <li class="{{isActiveRoute 'memo.archive'}}">
              <a href="{{pathFor route='memo.archive'}}" class="waves-effect {{isActiveRoute 'memo.archive'}}">
                <i class="fa fa-archive"></i>
                Archive
            {{#if notificationCount}}
              <span class="chip blue lighten-4">{{notificationCount}}</span>
            {{/if}}
              </a>
            </li>
          {{else}}
            <li>{{> atNavButton }}</li>
          {{/if}}
            <li class="{{isActiveRoute 'about'}}">
              <a class="{{isActiveRoute 'about'}}" href="{{pathFor route='about'}}">
                <i class="fa fa-info"></i>
                About
              </a>
            </li>
          {{#if currentUser}}
            <li>
              <a href="" class="waves-effect red-text logout auth-link">Logout<i class="fa fa-sign-out" aria-hidden="true"></i></a>                
            </li>
          {{/if}}
      </ul>
      <a href="#" data-activates="slide-out" class="button-collapse toggle-sidenav"><i class="fa fa-bars" aria-hidden="true"></i></a>
    </div>
  </nav>
</template>